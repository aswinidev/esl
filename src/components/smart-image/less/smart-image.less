smart-image {
  display: block;
  width: 100%;
  height: 0;
  padding: 0;
  text-align: center;

  background-size: cover;
  background-repeat: no-repeat;
  background-position: center center;

  &[mode='origin'] {
    display: inline-block;
    width: auto;
    height: auto;
  }
  &[mode='cover'] {
    height: 100%;
  }
  &[mode='save-ratio'] {
    height: 0;
    &:not([loaded]) {
      min-height: 1px;
    }
  }

  &:after {
    display: none;
    content: attr(alt);
  }
  &[error]:after {
    display: inline-block;
  }
  &[loaded]:after {
    display: none;
  }

  // Flex mode make image cover available box without saving ration
  &.bg-flex {
    background-size: 100% 100%;
  }
  // Inscribe mode inscribe image inside container
  &.bg-inscribe {
    background-size: contain;
  }

  // Vertical background position
  &.bg-v-top {
    background-position-y: top;
  }
  &.bg-v-center {
    background-position-y: center;
  }
  &.bg-v-bottom {
    background-position-y: bottom;
  }

  // Horizontal background position
  &.bg-h-left {
    background-position-x: left;
  }
  &.bg-h-center {
    background-position-x: center;
  }
  &.bg-h-right {
    background-position-x: right;
  }
}

.img-container {
  position: relative;
  overflow: hidden;
  smart-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    display: block;
  }
  smart-image[mode="origin"] {
    position: relative;
    width: auto;
    height: auto;
  }
  &.img-noratio {
    smart-image {
      position: relative;
    }
  }

  smart-image[lazy] {
    opacity: 0;
    &[ready] {
      opacity: 1;
      -webkit-transition: opacity 0.4s;
      transition: opacity 0.4s;
    }
  }
  &.img-container-no-rat {
    smart-image {
      position: relative;
    }
  }
  &.img-container-16-9 {
    padding-top: 9/16*100%;
  }
}
