!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EWC=t():e.EWC=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var _smart_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_helpers_abstract_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),__extends=(extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),extendStatics,SmartRule=function(e){function t(t,r){var n=e.call(this,r)||this;return n._payload=t,n}return __extends(t,e),t.prototype.toString=function(){return this.query.media+" => "+this._payload},Object.defineProperty(t.prototype,"payload",{get:function(){return this._payload},enumerable:!0,configurable:!0}),t.parse=function(e,r){var n=e.split("=>"),i=n[0];return new t(r(n[1].trim()),i.trim())},t.all=function(e){return new t(e,"all")},t.empty=function(){return t.all(null)},t}(_smart_query__WEBPACK_IMPORTED_MODULE_0__.a),SmartRuleList=function(_super){function SmartRuleList(e,t){var r=_super.call(this)||this;if(r._onMatchChanged=function(){var e=r._activeRule;r._active!==e&&(r._active=e,r.fire(e))},"string"!=typeof e)throw new Error("SmartRuleList require first parameter (query) typeof string");return r._rules=SmartRuleList.parseRules(e,t),r._rules.forEach(function(e){return e.addListener(r._onMatchChanged)}),r}return __extends(SmartRuleList,_super),SmartRuleList.parseRules=function(e,t){var r=e.split("|"),n=[];return r.forEach(function(e){var r=e.trim();if(r)if(-1===r.indexOf("=>"))n.unshift(SmartRule.all(t(r)));else{var i=SmartRule.parse(r,t);i&&n.push(i)}}),n},SmartRuleList.parse=function(e,t){return new SmartRuleList(e,t)},Object.defineProperty(SmartRuleList.prototype,"rules",{get:function(){return this._rules},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"_activeRule",{get:function(){var e=this.rules.filter(function(e){return e.matches});return e.length>0?e[e.length-1]:SmartRule.empty()},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"active",{get:function(){return this._active||(this._active=this._activeRule),this._active},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"activeValue",{get:function(){return this.active.payload},enumerable:!0,configurable:!0}),SmartRuleList.STRING_PARSER=function(e){return e},SmartRuleList.OBJECT_PARSER=function(val){try{return eval("("+val+")")}catch(e){return null}},SmartRuleList}(_helpers_abstract_observable__WEBPACK_IMPORTED_MODULE_1__.a);__webpack_exports__.a=SmartRuleList},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=function(){function e(e,t){this.min=e,this.max=t}return Object.defineProperty(e.prototype,"mediaQuery",{get:function(){return"(min-width: "+this.min+"px) and (max-width: "+this.max+"px)"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaQueryGE",{get:function(){return"(min-width: "+this.min+"px)"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaQueryLE",{get:function(){return"(max-width: "+this.max+"px)"},enumerable:!0,configurable:!0}),e}(),i={xs:new n(1,767),sm:new n(768,991),md:new n(992,1199),lg:new n(1200,1599),xl:new n(1600,999999)},o=/^[a-z]{1,}/i,a=function(){function e(){}return e.addCustomBreakpoint=function(e,t,r){if(e=e.toLowerCase(),o.test(e)){var a=i[e];return i[e]=new n(t,r),a}throw new Error("Shortcut should consist only from Latin characters. Length should be at least one character.")},e.getBreakpoint=function(e){return i[(e||"").toLowerCase()]},e.getAllBreakpointsNames=function(){return Object.keys(i)},e.apply=function(t){var r=Object.keys(i),n=new RegExp("@([+-]{0,1})("+r.join("|")+")","ig");return t.replace(n,function(t,r,n){var i=e.getBreakpoint(n);switch(r){case"+":return i.mediaQueryGE;case"-":return i.mediaQueryLE;default:return i.mediaQuery}})},e}();t.b=a},function(e,t,r){"use strict";var n=r(3),i=r(1),o={};var a=function(){function e(e){var t=this;e=i.a.apply(e),this._dpr=1,e=(e=e.replace(/@(1|2|3)x/,function(e,r){return t._dpr=Math.floor(r),function(e){return-1!==navigator.userAgent.indexOf("AppleWebKit")?"(-webkit-min-device-pixel-ratio: "+e+")":"(min-resolution: "+Math.round(96*e)+"dpi)"}(r)})).replace(/(and ){0,1}(@MOBILE|@DESKTOP)( and){0,1}/i,function(e,r,i,o){return t._mobileOnly="@MOBILE"===i.toUpperCase(),n.a!==t._mobileOnly?"not all":r&&o?" and ":""}),this._query=function(e){if(e){var t=o[e]?o[e]:window.matchMedia(e);return t&&(o[e]=t),t}return null}(e.trim()||"all")}return Object.defineProperty(e,"BreakpointRegistry",{get:function(){return i.a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMobileOnly",{get:function(){return!0===this._mobileOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFullOnly",{get:function(){return!1===this._mobileOnly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DPR",{get:function(){return this._dpr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matches",{get:function(){return this.query&&this.query.matches},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e){this.query&&("function"==typeof this.query.addEventListener?this.query.addEventListener("change",e):this.query.addListener(e))},e.prototype.removeListener=function(e){this.query&&("function"==typeof this.query.removeEventListener?this.query.removeEventListener("change",e):this.query.removeListener(e))},e}();t.a=a},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},function(module,__webpack_exports__,__webpack_require__){"use strict";function triggerComponentEvent(target,eventName,args){var eventHandlerName="on"+eventName,eventHandlerAttr=target.getAttribute(eventHandlerName);if(eventHandlerAttr)try{"function"!=typeof target[eventHandlerName]&&(target[eventHandlerName]=function(){eval(eventHandlerAttr)}),target[eventHandlerName].apply(target,args)}catch(e){console.log("Error executing "+target.tagName+" "+eventName+" hook function.\n "+e)}target.dispatchEvent(new CustomEvent(eventName,args))}__webpack_require__.d(__webpack_exports__,"a",function(){return triggerComponentEvent})},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){function e(){this._listeners=[]}return e.prototype.addListener=function(e){-1===this._listeners.indexOf(e)&&this._listeners.push(e)},e.prototype.removeListener=function(e){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t)},e.prototype.fire=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._listeners.forEach(function(r){try{r.apply(e,t)}catch(e){}})},e}()},function(e,t,r){e.exports=r(13)},function(module,exports,__webpack_require__){"use strict";if("customElements"in window&&!window.es5HTMLElemeentInheritanceShim)try{eval("(()=>{'use strict';const a=window.HTMLElement,b=window.customElements.define,c=window.customElements.get,d=new Map,e=new Map;let f=!1,g=!1;window.HTMLElement=function(){if(!f){const j=d.get(this.constructor),k=c.call(window.customElements,j);g=!0;const l=new k;return l}f=!1},window.HTMLElement.prototype=a.prototype;Object.defineProperty(window,'customElements',{value:window.customElements,configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'define',{value:(j,k)=>{const l=k.prototype,m=class extends a{constructor(){super(),Object.setPrototypeOf(this,l),g||(f=!0,k.call(this)),g=!1}},n=m.prototype;m.observedAttributes=k.observedAttributes,n.connectedCallback=l.connectedCallback,n.disconnectedCallback=l.disconnectedCallback,n.attributeChangedCallback=l.attributeChangedCallback,n.adoptedCallback=l.adoptedCallback,d.set(k,j),e.set(j,k),b.call(window.customElements,j,m)},configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'get',{value:j=>e.get(j),configurable:!0,writable:!0})})();"),window.es5HTMLElemeentInheritanceShim=!0}catch(e){}},function(e,t,r){"use strict";var n;(n=Element.prototype).matches=n.matches||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector,n.closest=n.closest||function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}},,,,,function(e,t,r){"use strict";r.r(t);r(7),r(8);var n=r(1),i=r(2),o=r(0),a=r(3),s=r(4),u=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()};var c,l,d=function(e){return void 0===e&&(e={defaultValue:"",readonly:!1}),function(t,r){var n=e.dataAttr?"data-"+u(r):u(r);e.conditional?function(e,t,r,n){function i(){return this.hasAttribute(r)}n?Object.defineProperty(e,t,{get:i}):Object.defineProperty(e,t,{get:i,set:function(e){e?this.setAttribute(r,"true"):this.removeAttribute(r)}})}(t,r,n,e.readonly):function(e,t,r,n){Object.defineProperty(e,t,{get:function(){return this.getAttribute(r)||n},set:function(e){this.setAttribute(r,e)}})}(t,r,n,e.defaultValue)}},p=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},h={cover:{useInnerImg:!1},"save-ratio":{useInnerImg:!1,afterLoad:function(e,t){this.style.paddingTop=t?null:100*e.height/e.width+"%"}},fit:{useInnerImg:!0,afterLoad:function(){this.style.paddingTop=null}},origin:{useInnerImg:!0,afterLoad:function(e){this.style.paddingTop=null,this._innerImage.width=e.width/e.dpr}}};function m(){return l||(l=new IntersectionObserver(function(e){(e||[]).forEach(function(e){(e.isIntersecting||e.intersectionRatio>0)&&e.target instanceof y&&e.target.triggerLoad()})},{threshold:[.01],rootMargin:a.a?"250px":"500px"})),l}var y=function(e){function t(){var t=e.call(this)||this;return t._onLoad=t._onLoad.bind(t),t._onError=t._onError.bind(t),t._onMatchChange=t.update.bind(t,!1),t}return p(t,e),Object.defineProperty(t,"EMPTY_IMAGE",{get:function(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},enumerable:!0,configurable:!0}),Object.defineProperty(t,"observedAttributes",{get:function(){return["data-alt","data-src","data-src-base","mode","lazy-triggered"]},enumerable:!0,configurable:!0}),t.register=function(e,r){void 0===r&&(r=e),t.className=r,customElements.define(e,t)},Object.defineProperty(t.prototype,"lazy",{get:function(){return this.hasAttribute("lazy")||this.lazyManual},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyAuto",{get:function(){return this.hasAttribute("lazy")&&!this.lazyManual},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"srcRules",{get:function(){return this._srcRules||(this.srcRules=o.a.parse(this.src,o.a.STRING_PARSER)),this._srcRules},set:function(e){this._srcRules&&this._srcRules.removeListener(this._onMatchChange),this._srcRules=e,this._srcRules.addListener(this._onMatchChange)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return!this._currentSrc||t.isEmptyImage(this._currentSrc)},enumerable:!0,configurable:!0}),t.prototype.triggerLoad=function(){this.setAttribute("lazy-triggered","")},t.prototype.changeMode=function(e,t){if((e=e||"save-ratio")!==(t=t||"save-ratio")){if(!h[t])throw new Error("Smart Image: Unsupported mode: "+t);this.mode!==t&&(this.mode=t),"origin"!==this.mode&&this._innerImg&&(this.removeChild(this._innerImg),this._innerImg=null),this.update(!0)}},t.prototype.update=function(e){if(void 0===e&&(e=!1),!this.lazy||this.lazyTriggered){var r=this.srcRules.active,n=t.getPath(r.payload,this.srcBase),i=r.DPR;(this._currentSrc!==n||e)&&(this._currentSrc=n,this._shadowImg.src=n,this._shadowImg.dpr=i,!this.refreshOnUpdate&&this.ready||this.syncImage())}},t.prototype.refresh=function(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.style.paddingTop=null,this.style.background=null,this.update(!0)},t.prototype.syncImage=function(){var e=this._shadowImg,r=e.src,n=!r||t.isEmptyImage(r);h[this.mode].useInnerImg?(this._innerImage.src=r,this.style.backgroundImage=null):this.style.backgroundImage=n?null:'url("'+r+'")',h[this.mode].afterLoad&&h[this.mode].afterLoad.call(this,e,n)},t.prototype.connectedCallback=function(){this.classList.add(t.className),this.setAttribute("alt",this.alt),this.hasAttribute("role")||this.setAttribute("role","img"),this.update(!0),this.lazyAuto&&!this.lazyTriggered&&(m().observe(this),this._detachLazyTrigger=function(){m().unobserve(this),this._detachLazyTrigger=null})},t.prototype.disconnectedCallback=function(){this.removeAttribute("lazy-triggered"),this._detachLazyTrigger&&this._detachLazyTrigger(),this._srcRules&&this._srcRules.removeListener(this._onMatchChange)},t.prototype.attributeChangedCallback=function(e,t,r){switch(e){case"data-alt":this.setAttribute("alt",r);break;case"data-src":this.srcRules=o.a.parse(r,o.a.STRING_PARSER),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":this.changeMode(t,r);break;case"lazy-triggered":this.update(!0)}},Object.defineProperty(t.prototype,"_innerImage",{get:function(){return this._innerImg||(this._innerImg=this.querySelector("img"),this._innerImg||(this._innerImg=document.createElement("img"),this.appendChild(this._innerImg)),this._innerImg.className="inner-image",this._innerImg.alt=""),this._innerImg},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_shadowImg",{get:function(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement},enumerable:!0,configurable:!0}),t.prototype._onLoad=function(){this.syncImage(),this.removeAttribute("error"),this.setAttribute("loaded",""),Object(s.a)(this,"load"),this._onReady()},t.prototype._onError=function(){this.setAttribute("error",""),Object(s.a)(this,"error"),this._onReady()},t.prototype._onReady=function(){if(!this.ready&&(this.setAttribute("ready",""),Object(s.a)(this,"ready"),this.hasAttribute("container-class")||this.hasAttribute("container-class-target"))){if(this.hasAttribute("container-class-onload")&&this.error)return;var e=this.getAttribute("container-class")||"img-container-loaded",t=this.getAttribute("container-class-target"),r=t?this.closest(t):this.parentNode;r&&r.classList.add(e)}},t.getPath=function(e,r){return void 0===r&&(r=""),e&&"0"!==e&&"none"!==e?r+e:t.EMPTY_IMAGE},t.isEmptyImage=function(e){return e===t.EMPTY_IMAGE},f([d({dataAttr:!0})],t.prototype,"src",void 0),f([d({dataAttr:!0})],t.prototype,"srcBase",void 0),f([d({dataAttr:!0})],t.prototype,"alt",void 0),f([d({defaultValue:"save-ratio"})],t.prototype,"mode",void 0),f([d({conditional:!0})],t.prototype,"refreshOnUpdate",void 0),f([d({conditional:!0,readonly:!0})],t.prototype,"lazyManual",void 0),f([d({conditional:!0,readonly:!0})],t.prototype,"lazyTriggered",void 0),f([d({conditional:!0,readonly:!0})],t.prototype,"ready",void 0),f([d({conditional:!0,readonly:!0})],t.prototype,"loaded",void 0),f([d({conditional:!0,readonly:!0})],t.prototype,"error",void 0),t}(HTMLElement),g=y;r.d(t,"BreakpointRegistry",function(){return n.b}),r.d(t,"SmartQuery",function(){return i.a}),r.d(t,"SmartRuleList",function(){return o.a}),r.d(t,"SmartImage",function(){return g}),g.register("smart-image")}])});
//# sourceMappingURL=all.js.map