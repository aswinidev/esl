!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.EWC=e():t.EWC=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(module,__webpack_exports__,__webpack_require__){"use strict";var _smart_query__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_helpers_abstract_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),__extends=(extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),extendStatics,SmartRule=function(t){function e(e,r){var n=t.call(this,r)||this;return n._payload=e,n}return __extends(e,t),e.prototype.toString=function(){return this.query.media+" => "+this._payload},Object.defineProperty(e.prototype,"payload",{get:function(){return this._payload},enumerable:!0,configurable:!0}),e.parse=function(t,r){var n=t.split("=>"),i=n[0];return new e(r(n[1].trim()),i.trim())},e.all=function(t){return new e(t,"all")},e.empty=function(){return e.all(null)},e}(_smart_query__WEBPACK_IMPORTED_MODULE_0__.a),SmartRuleList=function(_super){function SmartRuleList(t,e){var r=_super.call(this)||this;if(r._onMatchChanged=function(){var t=r._activeRule;r._active!==t&&(r._active=t,r.fire(t))},"string"!=typeof t)throw new Error("SmartRuleList require first parameter (query) typeof string");return r._rules=SmartRuleList.parseRules(t,e),r._rules.forEach(function(t){return t.addListener(r._onMatchChanged)}),r}return __extends(SmartRuleList,_super),SmartRuleList.parseRules=function(t,e){var r=t.split("|"),n=[];return r.forEach(function(t){var r=t.trim();if(r)if(-1===r.indexOf("=>"))n.unshift(SmartRule.all(e(r)));else{var i=SmartRule.parse(r,e);i&&n.push(i)}}),n},SmartRuleList.parse=function(t,e){return new SmartRuleList(t,e)},Object.defineProperty(SmartRuleList.prototype,"rules",{get:function(){return this._rules},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"_activeRule",{get:function(){var t=this.rules.filter(function(t){return t.matches});return t.length>0?t[t.length-1]:SmartRule.empty()},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"active",{get:function(){return this._active||(this._active=this._activeRule),this._active},enumerable:!0,configurable:!0}),Object.defineProperty(SmartRuleList.prototype,"activeValue",{get:function(){return this.active.payload},enumerable:!0,configurable:!0}),SmartRuleList.STRING_PARSER=function(t){return t},SmartRuleList.OBJECT_PARSER=function(val){try{return eval("("+val+")")}catch(t){return null}},SmartRuleList}(_helpers_abstract_observable__WEBPACK_IMPORTED_MODULE_1__.a);__webpack_exports__.a=SmartRuleList},function(module,__webpack_exports__,__webpack_require__){"use strict";function triggerComponentEvent(target,eventName,args){var eventHandlerName="on"+eventName,eventHandlerAttr=target.getAttribute(eventHandlerName);if(eventHandlerAttr)try{"function"!=typeof target[eventHandlerName]&&(target[eventHandlerName]=function(){eval(eventHandlerAttr)}),target[eventHandlerName].apply(target,args)}catch(t){console.log("Error executing "+target.tagName+" "+eventName+" hook function.\n "+t)}target.dispatchEvent(new CustomEvent(eventName,args))}__webpack_require__.d(__webpack_exports__,"a",function(){return triggerComponentEvent})},function(t,e,r){"use strict";var n=r(4),i=r(3),o={};var a=function(){function t(t){var e=this;t=i.a.apply(t),this._dpr=1,t=(t=t.replace(/@(1|2|3)x/,function(t,r){return e._dpr=Math.floor(r),function(t){return-1!==navigator.userAgent.indexOf("AppleWebKit")?"(-webkit-min-device-pixel-ratio: "+t+")":"(min-resolution: "+Math.round(96*t)+"dpi)"}(r)})).replace(/(and ){0,1}(@MOBILE|@DESKTOP)( and){0,1}/i,function(t,r,i,o){return e._mobileOnly="@MOBILE"===i.toUpperCase(),n.a!==e._mobileOnly?"not all":r&&o?" and ":""}),this._query=function(t){if(t){var e=o[t]?o[t]:window.matchMedia(t);return e&&(o[t]=e),e}return null}(t.trim()||"all")}return Object.defineProperty(t,"BreakpointRegistry",{get:function(){return i.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMobileOnly",{get:function(){return!0===this._mobileOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFullOnly",{get:function(){return!1===this._mobileOnly},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"DPR",{get:function(){return this._dpr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matches",{get:function(){return this.query&&this.query.matches},enumerable:!0,configurable:!0}),t.prototype.addListener=function(t){this.query&&("function"==typeof this.query.addEventListener?this.query.addEventListener("change",t):this.query.addListener(t))},t.prototype.removeListener=function(t){this.query&&("function"==typeof this.query.removeEventListener?this.query.removeEventListener("change",t):this.query.removeListener(t))},t}();e.a=a},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=function(){function t(t,e){this.min=t,this.max=e}return Object.defineProperty(t.prototype,"mediaQuery",{get:function(){return"(min-width: "+this.min+"px) and (max-width: "+this.max+"px)"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryGE",{get:function(){return"(min-width: "+this.min+"px)"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaQueryLE",{get:function(){return"(max-width: "+this.max+"px)"},enumerable:!0,configurable:!0}),t}(),i={xs:new n(1,767),sm:new n(768,991),md:new n(992,1199),lg:new n(1200,1599),xl:new n(1600,999999)},o=/^[a-z]{1,}/i,a=function(){function t(){}return t.addCustomBreakpoint=function(t,e,r){if(t=t.toLowerCase(),o.test(t)){var a=i[t];return i[t]=new n(e,r),a}throw new Error("Shortcut should consist only from Latin characters. Length should be at least one character.")},t.getBreakpoint=function(t){return i[(t||"").toLowerCase()]},t.getAllBreakpointsNames=function(){return Object.keys(i)},t.apply=function(e){var r=Object.keys(i),n=new RegExp("@([+-]{0,1})("+r.join("|")+")","ig");return e.replace(n,function(e,r,n){var i=t.getBreakpoint(n);switch(r){case"+":return i.mediaQueryGE;case"-":return i.mediaQueryLE;default:return i.mediaQuery}})},t}();e.b=a},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){this._listeners=[]}return t.prototype.addListener=function(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t)},t.prototype.removeListener=function(t){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e)},t.prototype.fire=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._listeners.forEach(function(r){try{r.apply(t,e)}catch(t){}})},t}()},function(t,e,r){t.exports=r(13)},function(module,exports,__webpack_require__){"use strict";if("customElements"in window&&!window.es5HTMLElemeentInheritanceShim)try{eval("(()=>{'use strict';const a=window.HTMLElement,b=window.customElements.define,c=window.customElements.get,d=new Map,e=new Map;let f=!1,g=!1;window.HTMLElement=function(){if(!f){const j=d.get(this.constructor),k=c.call(window.customElements,j);g=!0;const l=new k;return l}f=!1},window.HTMLElement.prototype=a.prototype;Object.defineProperty(window,'customElements',{value:window.customElements,configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'define',{value:(j,k)=>{const l=k.prototype,m=class extends a{constructor(){super(),Object.setPrototypeOf(this,l),g||(f=!0,k.call(this)),g=!1}},n=m.prototype;m.observedAttributes=k.observedAttributes,n.connectedCallback=l.connectedCallback,n.disconnectedCallback=l.disconnectedCallback,n.attributeChangedCallback=l.attributeChangedCallback,n.adoptedCallback=l.adoptedCallback,d.set(k,j),e.set(j,k),b.call(window.customElements,j,m)},configurable:!0,writable:!0}),Object.defineProperty(window.customElements,'get',{value:j=>e.get(j),configurable:!0,writable:!0})})();"),window.es5HTMLElemeentInheritanceShim=!0}catch(t){}},function(t,e,r){"use strict";var n;(n=Element.prototype).matches=n.matches||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector,n.closest=n.closest||function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}},,,,,function(t,e,r){"use strict";r.r(e);r(7),r(8);var n=r(3),i=r(2),o=r(0),a=r(4),s=r(1),u=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()};var c,l,p=function(t){return void 0===t&&(t={defaultValue:"",readonly:!1}),function(e,r){var n=t.dataAttr?"data-"+u(r):u(r);t.conditional?function(t,e,r,n){function i(){return this.hasAttribute(r)}n?Object.defineProperty(t,e,{get:i}):Object.defineProperty(t,e,{get:i,set:function(t){t?this.setAttribute(r,"true"):this.removeAttribute(r)}})}(e,r,n,t.readonly):function(t,e,r,n){Object.defineProperty(t,e,{get:function(){return this.getAttribute(r)||n},set:function(t){this.setAttribute(r,t)}})}(e,r,n,t.defaultValue)}},d=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),h=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},f={cover:{useInnerImg:!1},"save-ratio":{useInnerImg:!1,afterLoad:function(t,e){this.style.paddingTop=e?null:100*t.height/t.width+"%"}},fit:{useInnerImg:!0},origin:{useInnerImg:!0,afterLoad:function(t){this._innerImage.width=t.width/t.dpr}}};function y(){return l||(l=new IntersectionObserver(function(t){(t||[]).forEach(function(t){(t.isIntersecting||t.intersectionRatio>0)&&t.target instanceof _&&t.target.triggerLoad()})},{threshold:[.01],rootMargin:a.a?"250px":"500px"})),l}var _=function(t){function e(){var e=t.call(this)||this;return e._onLoad=e._onLoad.bind(e),e._onError=e._onError.bind(e),e._onMatchChange=e.update.bind(e,!1),e}return d(e,t),Object.defineProperty(e,"EMPTY_IMAGE",{get:function(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="},enumerable:!0,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return["alt","data-alt","data-src","data-src-base","mode","lazy-triggered"]},enumerable:!0,configurable:!0}),e.register=function(t,r){void 0===r&&(r=t),e.className=r,customElements.define(t,e)},Object.defineProperty(e.prototype,"lazy",{get:function(){return this.hasAttribute("lazy")||this.lazyManual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lazyAuto",{get:function(){return this.hasAttribute("lazy")&&!this.lazyManual},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"srcRules",{get:function(){return this._srcRules||(this.srcRules=o.a.parse(this.src,o.a.STRING_PARSER)),this._srcRules},set:function(t){this._srcRules&&this._srcRules.removeListener(this._onMatchChange),this._srcRules=t,this._srcRules.addListener(this._onMatchChange)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!this._currentSrc||e.isEmptyImage(this._currentSrc)},enumerable:!0,configurable:!0}),e.prototype.triggerLoad=function(){this.setAttribute("lazy-triggered","")},e.prototype.changeMode=function(t,e){if((t=t||"save-ratio")!==(e=e||"save-ratio")){if(!f[e])throw new Error("Smart Image: Unsupported mode: "+e);this.mode!==e&&(this.mode=e),"origin"!==this.mode&&this._innerImg&&(this.removeChild(this._innerImg),this._innerImg=null),this.update(!0)}},e.prototype.update=function(t){if(void 0===t&&(t=!1),!this.lazy||this.lazyTriggered){var e=this.srcRules.active,r=this.getPath(e.payload),n=e.DPR;(this._currentSrc!==r||t)&&(this._currentSrc=r,this._shadowImg.src=r,this._shadowImg.dpr=n,!this.refreshOnUpdate&&this.ready||this.syncImage()),this._detachLazyTrigger&&this._detachLazyTrigger()}},e.prototype.getPath=function(t){return t&&"0"!==t&&"none"!==t?this.srcBase+t:e.EMPTY_IMAGE},e.prototype.refresh=function(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.style.paddingTop=null,this.style.background=null,this.update(!0)},e.prototype.syncImage=function(){var t=this._shadowImg,r=t.src,n=!r||e.isEmptyImage(r);f[this.mode].useInnerImg?(this._innerImage.src=r,this.style.backgroundImage=null):this.style.backgroundImage=n?null:'url("'+r+'")',f[this.mode].afterLoad&&f[this.mode].afterLoad.call(this,t,n)},e.prototype.connectedCallback=function(){this.constructor.className&&this.classList.add(this.constructor.className),this.alt=this.alt||this.getAttribute("data-alt")||"",this.hasAttribute("role")||this.setAttribute("role","img"),this.update(!0),this.lazyAuto&&!this.lazyTriggered&&(y().observe(this),this._detachLazyTrigger=function(){y().unobserve(this),this._detachLazyTrigger=null})},e.prototype.disconnectedCallback=function(){this.removeAttribute("lazy-triggered"),this._detachLazyTrigger&&this._detachLazyTrigger(),this._srcRules&&this._srcRules.removeListener(this._onMatchChange)},e.prototype.attributeChangedCallback=function(t,e,r){switch(t){case"data-alt":this.alt=this.alt||this.getAttribute("data-alt")||"";break;case"alt":this._innerImg&&(this._innerImg.alt=this.alt);break;case"data-src":this.srcRules=o.a.parse(r,o.a.STRING_PARSER),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":this.changeMode(e,r);break;case"lazy-triggered":this.update(!0)}},Object.defineProperty(e.prototype,"_innerImage",{get:function(){return this._innerImg||(this._innerImg=this.querySelector("img"),this._innerImg||(this._innerImg=document.createElement("img"),this.appendChild(this._innerImg)),this._innerImg.className="inner-image",this._innerImg.alt=this.alt),this._innerImg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_shadowImg",{get:function(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){this.syncImage(),this.removeAttribute("error"),this.setAttribute("loaded",""),Object(s.a)(this,"load"),this._onReady()},e.prototype._onError=function(){this.setAttribute("error",""),Object(s.a)(this,"error"),this._onReady()},e.prototype._onReady=function(){if(!this.ready&&(this.setAttribute("ready",""),Object(s.a)(this,"ready"),this.hasAttribute("container-class")||this.hasAttribute("container-class-target"))){if(this.hasAttribute("container-class-onload")&&this.error)return;var t=this.getAttribute("container-class")||"img-container-loaded",e=this.getAttribute("container-class-target"),r=e?this.closest(e):this.parentNode;r&&r.classList.add(t)}},e.isEmptyImage=function(t){return t===e.EMPTY_IMAGE},h([p({dataAttr:!0,defaultValue:""})],e.prototype,"src",void 0),h([p({dataAttr:!0,defaultValue:""})],e.prototype,"srcBase",void 0),h([p({defaultValue:""})],e.prototype,"alt",void 0),h([p({defaultValue:"save-ratio"})],e.prototype,"mode",void 0),h([p({conditional:!0})],e.prototype,"refreshOnUpdate",void 0),h([p({conditional:!0,readonly:!0})],e.prototype,"lazyManual",void 0),h([p({conditional:!0,readonly:!0})],e.prototype,"lazyTriggered",void 0),h([p({conditional:!0,readonly:!0})],e.prototype,"ready",void 0),h([p({conditional:!0,readonly:!0})],e.prototype,"loaded",void 0),h([p({conditional:!0,readonly:!0})],e.prototype,"error",void 0),e}(HTMLElement),m=_;var b,g,v={},w=function(){function t(){}return Object.defineProperty(t,"_managerMap",{get:function(){return v},enumerable:!0,configurable:!0}),t.registerPlay=function(t){if(t.group){var e=v[t.group];e&&e!==t&&e.active&&e.dispatchEvent(new Event("evideo:mangedpause",{bubbles:!0}))&&e.pause(),v[t.group]=t}},t.unregister=function(t){t.group&&(v[t.group]===t&&(v[t.group]=null))},t}(),E=.75,A=.2;function O(t){return void 0===t&&(t=!1),b||t||(b=new IntersectionObserver(function(t){t.forEach(P)},{threshold:[A,E]})),b}function P(t){if(t.target instanceof k){var e=t.target;e.onplaying&&t.intersectionRatio<=A&&e.pause(),!e.onplaying&&e.muted&&t.intersectionRatio>=E&&e.play(!0)}}!function(t){t[t.BUFFERING=3]="BUFFERING",t[t.ENDED=0]="ENDED",t[t.PAUSED=2]="PAUSED",t[t.PLAYING=1]="PLAYING",t[t.UNSTARTED=-1]="UNSTARTED",t[t.VIDEO_CUED=5]="VIDEO_CUED",t[t.UNINITIALIZED=null]="UNINITIALIZED"}(g||(g={}));var I=function(){function t(t){this.component=t}return Object.defineProperty(t.prototype,"ready",{get:function(){if(!this._ready){var t=Promise.reject("Not Initialized");return t.catch(function(t){return console.log("Rejected Video Operation: ",t)}),t}return this._ready},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){this.getState()===g.PAUSED?this.play():this.pause()},t.prototype.safeSeekTo=function(t){var e=this;this.ready.then(function(){return e.seekTo(t)})},t.prototype.safePlay=function(){var t=this;this.ready.then(function(){return t.play()})},t.prototype.safePause=function(){var t=this;this.ready.then(function(){return t.pause()})},t.prototype.safeStop=function(){var t=this;this.ready.then(function(){return t.stop()})},t.prototype.safeToggle=function(){var t=this;this.ready.then(function(){return t.toggle()})},t}(),S=r(5),L=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.providers={},e}return L(e,t),Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.register=function(t,e){this.providers[e]=t,this.fire(e,t)},e.prototype.getProvider=function(t){return this.providers[t.toLowerCase()]},e._instance=null,e}(S.a).instance,j=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},T=function(t){function e(){var e=t.call(this)||this;return e.deferedReinit=function(t,e,r){void 0===e&&(e=10),void 0===r&&(r=!1);var n=null;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=this,s=function(){n=null,r||t.apply(a,i)},u=r&&!n;clearTimeout(n),n=setTimeout(s,e),u&&t.apply(a,i)}}(function(){return e.reinitInstance()}),e._onRegistryStateChange=function(t){t===e.videoType&&e.reinitInstance()},e._onError=e._onError.bind(e),e._onConditionStateChange=e._onConditionStateChange.bind(e),e}return j(e,t),Object.defineProperty(e,"is",{get:function(){return"smart-video"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"PLAYER_STATES",{get:function(){return g},enumerable:!0,configurable:!0}),Object.defineProperty(e,"observedAttributes",{get:function(){return["video-type","disabled","data-id","data-src"]},enumerable:!0,configurable:!0}),e.prototype.connectedCallback=function(){this.classList.add(e.is),this.setAttribute("role","application"),this.innerHTML+="\x3c!-- Inner Content, do not modify it manually --\x3e",R.addListener(this._onRegistryStateChange),this._onConditionStateChange(),this.conditionQuery&&this.conditionQuery.addListener(this._onConditionStateChange),!this.disabled&&this.reinitInstance()},e.prototype.disconnectedCallback=function(){R.removeListener(this._onRegistryStateChange),this.conditionQuery&&this.conditionQuery.removeListener(this._onConditionStateChange),this.detachViewportConstraint(),this._provider&&this._provider.unbind()},e.prototype.attributeChangedCallback=function(t,e,r){if(e!==r)switch(t){case"data-id":case"data-src":case"video-type":(this._provider||null===this._provider)&&this.deferedReinit();break;case"disabled":this._provider||this.deferedReinit()}},e.prototype.reinitInstance=function(){if(!this.disabled){this._provider&&this._provider.unbind();var t=R.getProvider(this.videoType);t?(this._provider=new t(this),this._provider.bind(),this.playInViewport&&this.attachViewportConstraint()):this._provider=null}},e.prototype.buildOptions=function(){return{title:this.title,autoplay:this.autoplay,muted:this.muted,hideControls:this.hideControls,dataId:this.dataset.id,dataSrc:this.dataset.src}},e.prototype._updateMarkers=function(t,e){var r=this.getAttribute("marker-target"),n=r?this.closest(r):this;n&&t&&n.classList.add(t),n&&e&&n.classList.remove(e)},e.prototype._onConditionStateChange=function(){!this.conditionQuery||this.conditionQuery.matches?(this.deferedReinit(),this.state===g.PAUSED&&this.play(!0),this._updateMarkers(this.getAttribute("load-condition-marker"),this.getAttribute("load-condition-declined-marker"))):(this.pause(),this._updateMarkers(this.getAttribute("load-condition-declined-marker"),this.getAttribute("load-condition-marker")))},e.prototype.seekTo=function(t){return this._provider&&this._provider.safeSeekTo(t)},e.prototype.play=function(t){return void 0===t&&(t=!1),this.disabled&&t&&(this.disabled=!1),this._provider&&this._provider.safePlay()},e.prototype.pause=function(){return this._provider&&this._provider.safePause()},e.prototype.stop=function(){return this._provider&&this._provider.safeStop()},e.prototype.toggle=function(){return this._provider&&this._provider.safeToggle()},e.prototype.focus=function(){this._provider&&this._provider.focus()},e.prototype._onReady=function(){this.setAttribute("ready","true"),this.hasAttribute("ready-class")&&this.classList.add(this.getAttribute("ready-class")),this.dispatchEvent(new Event("evideo:ready",{bubbles:!0}))},e.prototype._onError=function(){this.setAttribute("ready",""),this.setAttribute("error",""),Object(s.a)(this,"error"),Object(s.a)(this,"ready")},e.prototype._onDetach=function(){this.removeAttribute("active"),this.removeAttribute("ready"),this.hasAttribute("ready-class")&&this.classList.remove(this.getAttribute("ready-class"))},e.prototype._onPlay=function(){this.autofocus&&this.focus(),this.setAttribute("active",""),this.dispatchEvent(new Event("evideo:play",{bubbles:!0})),w.registerPlay(this)},e.prototype._onPaused=function(){this.removeAttribute("active"),this.dispatchEvent(new Event("evideo:paused",{bubbles:!0})),w.unregister(this)},e.prototype._onEnded=function(){this.removeAttribute("active"),this.dispatchEvent(new Event("evideo:ended",{bubbles:!0})),w.unregister(this)},Object.defineProperty(e.prototype,"state",{get:function(){return this._provider?this._provider.getState():g.UNINITIALIZED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionQuery",{get:function(){if(!this._conditionQuery&&null!==this._conditionQuery){var t=this.getAttribute("load-condition");this._conditionQuery=t?new i.a(t):null}return this._conditionQuery},enumerable:!0,configurable:!0}),e.prototype.attachViewportConstraint=function(){O().observe(this)},e.prototype.detachViewportConstraint=function(){var t=O(!0);t&&t.unobserve(this)},C([p()],e.prototype,"videoType",void 0),C([p()],e.prototype,"group",void 0),C([p({conditional:!0})],e.prototype,"disabled",void 0),C([p({conditional:!0})],e.prototype,"autoplay",void 0),C([p({conditional:!0})],e.prototype,"autofocus",void 0),C([p({conditional:!0})],e.prototype,"preload",void 0),C([p({conditional:!0})],e.prototype,"muted",void 0),C([p({conditional:!0})],e.prototype,"loop",void 0),C([p({conditional:!0})],e.prototype,"hideControls",void 0),C([p({conditional:!0})],e.prototype,"hideSubtitles",void 0),C([p({conditional:!0,readonly:!0})],e.prototype,"ready",void 0),C([p({conditional:!0,readonly:!0})],e.prototype,"active",void 0),C([p({conditional:!0,readonly:!0})],e.prototype,"playInViewport",void 0),e}(HTMLElement);customElements.define(T.is,T);var k=T;var M=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._onStateChange=function(t){switch(+t.data){case g.PLAYING:e.component._onPlay();break;case g.PAUSED:e.component._onPaused();break;case g.ENDED:e.component._onEnded()}},e}return M(e,t),Object.defineProperty(e,"videoName",{get:function(){return"youtube"},enumerable:!0,configurable:!0}),e.getCoreApi=function(){return e._coreApiPromise||(e._coreApiPromise=new Promise(function(t){if(window.YT&&window.YT.Player)return t(window.YT);!function(t,e){if(!document.getElementById(t)){var r=document.createElement("script");r.id=t,r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}}("YT_API_SOURCE","//www.youtube.com/iframe_api");var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){try{"function"==typeof e&&e.apply(window)}catch(t){}return t(window.YT)}})),e._coreApiPromise},e.buildIframeUrl=function(t,e){return"//www.youtube.com/embed/"+t+"?wmode=transparent&rel=0&showinfo=0&iv_load_policy=3&enablejsapi=1&autoplay="+Number(e)},e.buildIframe=function(t){var r=document.createElement("iframe");return r.id="yt-video-"+Date.now().toString(32)+"-"+Math.round(1024*Math.random()*1024).toString(32),r.className="sev-inner sev-youtube",r.style.width="100%",r.style.height="100%",r.title=t.title,r.setAttribute("aria-label",t.title),r.setAttribute("frameborder","0"),r.setAttribute("tabindex","0"),r.setAttribute("allowfullscreen","yes"),r.src=e.buildIframeUrl(t.dataId,t.autoplay),r},e.prototype.bind=function(){var t=this,r=new Promise(function(r){t._el=e.buildIframe(t.component.buildOptions()),t._el.onload=function(){r()},t.component.appendChild(t._el)});this._ready=Promise.all([e.getCoreApi(),r]).then(function(){return new Promise(function(e,r){t._api=new YT.Player(t._el,{events:{onError:function(){return r(t)},onReady:function(){return e(t)},onStateChange:t._onStateChange}})})}),this._ready.then(function(){return t.component._onReady()})},e.prototype.unbind=function(){this.component._onDetach(),this._api&&(this._api.destroy(),this._api=null),this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el)},e.prototype.focus=function(){this._el&&this._el.contentWindow&&this._el.contentWindow.focus()},e.prototype.getState=function(){return this._api&&"function"==typeof this._api.getPlayerState?this._api.getPlayerState():g.UNINITIALIZED},e.prototype.seekTo=function(t){this._api.seekTo(t,!1)},e.prototype.play=function(){this.getState()===g.ENDED&&this._api.seekTo(0,!1),this._api.playVideo()},e.prototype.pause=function(){this._api.pauseVideo()},e.prototype.stop=function(){this._api.stopVideo()},e}(I);R.register(N,N.videoName);var x=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),Object.defineProperty(e,"videoName",{get:function(){return"video"},enumerable:!0,configurable:!0}),e.buildSrc=function(t,e){return"<source src="+t+' type="'+(e||"video/mp4")+'">'},e.build=function(t){var r=document.createElement("video");return r.innerHTML=e.buildSrc(t.dataSrc),r.className="sev-inner",r.autoplay=t.autoplay,r.preload="auto",r.loop=!1,r.tabIndex=0,r.muted=t.muted,t.hideControls||(r.controls=!0),r},e.prototype.bind=function(){var t=this;this._el=e.build(this.component.buildOptions()),this.component.appendChild(this._el),this._el.onerror=this.component._onError,this._el.addEventListener("loadedmetadata",function(){return t.component._onReady()})},e.prototype.unbind=function(){this.component._onDetach(),this._el&&this._el.parentNode&&this._el.parentNode.removeChild(this._el)},Object.defineProperty(e.prototype,"ready",{get:function(){return Promise.resolve()},enumerable:!0,configurable:!0}),e.prototype.focus=function(){this._el&&this._el.focus()},e.prototype.getState=function(){return g.UNINITIALIZED},e.prototype.seekTo=function(t){this._el.currentTime=t},e.prototype.play=function(){return this._el.play()},e.prototype.pause=function(){return this._el.pause()},e.prototype.stop=function(){var t=this;return new Promise(function(){t._el.pause(),t._el.currentTime=0})},e}(I);R.register(D,D.videoName),r.d(e,"BreakpointRegistry",function(){return n.b}),r.d(e,"SmartQuery",function(){return i.a}),r.d(e,"SmartRuleList",function(){return o.a}),r.d(e,"SmartImage",function(){return m}),r.d(e,"SmartVideo",function(){return k}),m.register("smart-image")}])});
//# sourceMappingURL=all.js.map