!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SmartWC=e():t.SmartWC=e()}(window,function(){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function triggerComponentEvent(target,eventName,args=null){const eventHandlerName="on"+eventName,eventHandlerAttr=target.getAttribute(eventHandlerName);if(eventHandlerAttr)try{"function"!=typeof target[eventHandlerName]&&(target[eventHandlerName]=function(){eval(eventHandlerAttr)}),target[eventHandlerName].apply(target,args)}catch(t){console.log(`Error executing ${target.tagName} ${eventName} hook function.\n ${t}`)}target.dispatchEvent(new CustomEvent(eventName,args))}__webpack_require__.d(__webpack_exports__,"a",function(){return triggerComponentEvent})},function(t,e,s){t.exports=s(2)},function(t,e,s){"use strict";s.r(e);const r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);class i{constructor(t,e){this.min=t,this.max=e}get mediaQuery(){return`(min-width: ${this.min}px) and (max-width: ${this.max}px)`}get mediaQueryGE(){return`(min-width: ${this.min}px)`}get mediaQueryLE(){return`(max-width: ${this.max}px)`}}const n={xs:new i(1,767),sm:new i(768,991),md:new i(992,1199),lg:new i(1200,1599),xl:new i(1600,999999)},a=/^[a-z]{1,}/i;class h{static addCustomBreakpoint(t,e,s){if(t=t.toLowerCase(),a.test(t)){const r=n[t];return n[t]=new i(e,s),r}throw new Error("Shortcut should consist only from Latin characters. Length should be at least one character.")}static getBreakpoint(t){return n[(t||"").toLowerCase()]}static getAllBreakpointsNames(){return Object.keys(n)}static apply(t){const e=Object.keys(n),s=new RegExp(`@([+-]{0,1})(${e.join("|")})`,"ig");return t.replace(s,(t,e,s)=>{const r=h.getBreakpoint(s);switch(e){case"+":return r.mediaQueryGE;case"-":return r.mediaQueryLE;default:return r.mediaQuery}})}}const o={};var l=class{static get BreakpointRegistry(){return h}constructor(t){t=h.apply(t),this._dpr=1,t=(t=t.replace(/@(1|2|3)x/,(t,e)=>(this._dpr=Math.floor(e),function(t){return-1!==navigator.userAgent.indexOf("AppleWebKit")?`(-webkit-min-device-pixel-ratio: ${t})`:`(min-resolution: ${Math.round(96*t)}dpi)`}(e)))).replace(/(and ){0,1}(@MOBILE|@DESKTOP)( and){0,1}/i,(t,e,s,i)=>(this._mobileOnly="@MOBILE"===s.toUpperCase(),r!==this._mobileOnly?"not all":e&&i?" and ":"")),this._query=function(t){if(t){const e=o[t]?o[t]:window.matchMedia(t);return e&&(o[t]=e),e}return null}(t.trim()||"all")}get isMobileOnly(){return!0===this._mobileOnly}get isFullOnly(){return!1===this._mobileOnly}get DPR(){return this._dpr}get query(){return this._query}get matches(){return this.query&&this.query.matches}addListener(t){this.query&&this.query.addEventListener("change",t)}removeListener(t){this.query&&this.query.removeEventListener("change",t)}};window.SmartQuery=l;var d=s(0);class c extends l{static get EMPTY_IMAGE(){return"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}constructor(t,e){super(e),this.src=t,this.src&&"0"!==this.src&&"none"!==this.src||(this.src=c.EMPTY_IMAGE)}toString(){return`${this.query.media} => ${this.src}`}getPath(t=""){return c.isEmptyImage(this.src)?this.src:t+this.src}static parse(t){const[e,s]=t.split("=>");return new c(s.trim(),e.trim())}static all(t){return new c(t,"all")}static empty(){return c._EMPTY_RULE||(c._EMPTY_RULE=c.all("none"))}static isEmptyImage(t){return t===c.EMPTY_IMAGE}}var u=c;const g={cover:{useInnerImg:!1},"save-ratio":{useInnerImg:!1,afterLoad(t,e){this.style.paddingTop=e?null:`${100*t.height/t.width}%`}},fit:{useInnerImg:!0},origin:{useInnerImg:!0,afterLoad(t){this._innerImage.width=t.width/t.dpr}}};let m;function p(){return m||(m=new IntersectionObserver(function(t){(t||[]).forEach(function(t){t.isIntersecting&&t.target instanceof _&&t.target.triggerLoad()})},{rootMargin:r?"250px":"500px"})),m}class _ extends HTMLElement{static get is(){return"smart-image"}static get observedAttributes(){return["data-alt","data-src","data-src-base","mode","lazy-triggered"]}constructor(){super(),this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this),this._onMatchChanged=this._onMatchChanged.bind(this)}get lazy(){return this.hasAttribute("lazy")||this.hasAttribute("lazy-manual")}get lazyAuto(){return this.hasAttribute("lazy")&&!this.hasAttribute("lazy-manual")}get lazyManual(){return this.hasAttribute("lazy-manual")}get lazyTriggered(){return this.hasAttribute("lazy-triggered")}get ready(){return this.hasAttribute("ready")}get loaded(){return this.hasAttribute("loaded")}get error(){return this.hasAttribute("error")}get mode(){return this.getAttribute("mode")||"save-ratio"}set mode(t){if(!g[t])throw new Error("Smart Image: Unsupported mode: "+t);this.mode!==t&&this.setAttribute("mode",t),"origin"!==this.mode&&this._innerImg&&(this.removeChild(this._innerImg),this._innerImg=null),this.update(!0)}get refreshOnUpdate(){return this.hasAttribute("refresh-on-update")}set refreshOnUpdate(t){t?this.setAttribute("refresh-on-update","true"):this.removeAttribute("refresh-on-update")}get alt(){return this.getAttribute("data-alt")||this.getAttribute("alt")||""}set alt(t){this.setAttribute("data-alt",t)}get src(){return this.getAttribute("data-src")}set src(t){this.setAttribute("data-src",t)}get srcBase(){return this.getAttribute("data-src-base")||""}set srcBase(t){this.setAttribute("data-src-base",t)}get rules(){return this._rules||(this.rules=_.parseRules(this.src)),this._rules}set rules(t){if(Array.isArray(t))return this._detachRuleListeners(),this._rules=t.filter(t=>t instanceof u),void this._attachRuleListeners();throw new Error("Rules must be an array of rules")}get targetRule(){if(Array.isArray(this.rules)){const t=this.rules.filter(t=>t.matches);return t.length>0?t[t.length-1]:u.empty()}return u.empty()}get currentSrc(){return this._currentSrc}get empty(){return!this._currentSrc||u.isEmptyImage(this._currentSrc)}triggerLoad(){this.setAttribute("lazy-triggered","")}update(t=null){if(this.lazy&&!this.lazyTriggered)return;const e=this.targetRule,s=e.getPath(this.srcBase),r=e.DPR;(this._currentSrc!==s||t)&&(this._currentSrc=s,this._shadowImg.src=s,this._shadowImg.dpr=r,!this.refreshOnUpdate&&this.ready||this.syncImage())}refresh(){this.removeAttribute("loaded"),this.removeAttribute("ready"),this.style.paddingTop=null,this.style.background=null,this.update(!0)}syncImage(){const t=this._shadowImg,e=t.src,s=!e||u.isEmptyImage(e);g[this.mode].useInnerImg?(this._innerImage.src=e,this.style.backgroundImage=null):this.style.backgroundImage=s?null:`url("${e}")`,g[this.mode].afterLoad&&g[this.mode].afterLoad.call(this,t,s)}connectedCallback(){this.classList.add(_.is),this.setAttribute("alt",this.alt),this.hasAttribute("role")||this.setAttribute("role","img"),this.update(!0),this._attachRuleListeners(),this.lazyAuto&&!this.lazyTriggered&&(p().observe(this),this._detachLazyTrigger=function(){p().unobserve(this),this._detachLazyTrigger=null})}disconnectedCallback(){this.removeAttribute("lazy-triggered"),this._detachRuleListeners(),this._detachLazyTrigger&&this._detachLazyTrigger()}attributeChangedCallback(t,e,s){switch(t){case"data-alt":this.setAttribute("alt",s);break;case"data-src":this.rules=_.parseRules(s),this.refresh();break;case"data-src-base":this.refresh();break;case"mode":(e=e||"save-ratio")!==(s=s||"save-ratio")&&(this.mode=s);break;case"lazy-triggered":this.update(!0)}}get _innerImage(){return this._innerImg||(this._innerImg=this.querySelector("img"),this._innerImg||(this._innerImg=document.createElement("img"),this.appendChild(this._innerImg)),this._innerImg.className="inner-image",this._innerImg.alt=""),this._innerImg}get _shadowImg(){return this._shadowImageElement||(this._shadowImageElement=new Image,this._shadowImageElement.onload=this._onLoad,this._shadowImageElement.onerror=this._onError),this._shadowImageElement}_onLoad(){this.syncImage(),this.removeAttribute("error"),this.setAttribute("loaded",""),Object(d.a)(this,"load"),this._onReady()}_onError(){this.setAttribute("error",""),Object(d.a)(this,"error"),this._onReady()}_onReady(){if(!this.ready&&(this.setAttribute("ready",""),Object(d.a)(this,"ready"),this.hasAttribute("container-class")||this.hasAttribute("container-class-target"))){if(this.hasAttribute("container-class-onload")&&this.error)return;const t=this.getAttribute("container-class")||"img-container-loaded",e=this.getAttribute("container-class-target"),s=e?this.closest(e):this.parentNode;s&&s.classList.add(t)}}_onMatchChanged(){this.update()}_attachRuleListeners(){this._listenersAttached||(this._rules.forEach(t=>t.addListener(this._onMatchChanged)),this._listenersAttached=!0)}_detachRuleListeners(){this._listenersAttached&&(this._rules.forEach(t=>t.removeListener(this._onMatchChanged)),this._listenersAttached=!1)}static parseRules(t){const e=(t||"").split("|"),s=[];return e.forEach(t=>{-1===t.indexOf("=>")?s.unshift(u.all(t.trim())):s.push(u.parse(t))}),s}}_.SmartImageSrcRule=u,customElements.define(_.is,_);var b=_;window.SmartImage=b;class f extends HTMLElement{static get is(){return"smart-multicarousel"}constructor(){super()}connectedCallback(){this.classList.add(f.is),this.config=this.dataset.config,this._bindEvents()}disconnectedCallback(){this.removeEventListener("click",this._onClick,!1)}_bindEvents(){this.addEventListener("click",t=>this._onClick(t),!1),this.addEventListener("smart-mc-anim",this._onAnimate,!1)}_onClick(t){const e=t.target;e&&e.dataset.slideTarget&&this.setActiveIndexes(e.dataset.slideTarget)}_onAnimate(t){const e=t.detail.firstIndex,s=t.detail.countShiftSlides;let r=0;const i=780*this.slides.length/3;let n=0,a=0;const h=+this.slides[e].style.transform.replace(/[^0-9\-]/gi,""),o=+this.slides[e].style.left.replace(/[^0-9\-]/gi,"");n=h-s/3*780,this.activeIndexes.forEach(t=>{(r=(t+s+this.slides.length)%this.slides.length)<t&&s>0||0===e&&s<0?(a=s>0?o+i:o-i,this.slides[r].style.left=a+"px"):this.slides[r].style.left=o+"px"});const l=s>0?this.activeIndexes[this.activeIndexes.length-1]:(this.activeIndexes[0]+1+s+this.slides.length)%this.slides.length,d=s>0?(this.activeIndexes[0]+s+this.slides.length)%this.slides.length:this.activeIndexes[0];for(let t=l;t<=d;t++)this.slides[t].style.left=o+"px";this.slides.forEach(t=>{t.style.transform=`translateX(${n}px)`})}get slides(){const t=this.querySelectorAll("[data-slide-item]");return t?Array.from(t):[]}get activeClass(){return this.getAttribute("active-slide-class")||"active-slide"}get activeIndexes(){return this.slides.reduce((t,e,s)=>(e.classList.contains(this.activeClass)&&t.push(s),t),[])}goTo(t){const e=this.activeIndexes[0],s=[];let r=(e+t+this.slides.length)%this.slides.length;const i={firstIndex:e,countShiftSlides:t};r!==e&&(this.triggerAnimation(i),this.activeIndexes.forEach(e=>{this.slides[e].classList.remove(this.activeClass),r=(e+t+this.slides.length)%this.slides.length,s.push(r)}),s.forEach(t=>{this.slides[t].classList.add(this.activeClass)}),this.triggerSlidesChange({countShiftSlides:t+e}))}setActiveIndexes(t){let e=0;"prev"===t?(e=-3,this.slides.length%3!=0&&-1!==this.activeIndexes.indexOf(this.slides.length-1)&&(e=-this.slides.length%3)):e="next"===t?3:3*+t-this.activeIndexes[0];const s=(this.activeIndexes[0]+e+this.slides.length)%this.slides.length,r=this.slides.length-s;r<3&&(e=e-3+r),this.goTo(e)}triggerAnimation(t){const e=new CustomEvent("smart-mc-anim",{bubbles:!0,detail:t});this.dispatchEvent(e)}triggerSlidesChange(t){const e=new CustomEvent("smart-mc-slideschanged",{bubbles:!0,detail:t});this.dispatchEvent(e)}}customElements.define(f.is,f);var y=f;class A extends HTMLElement{constructor(){super(),this._onUpdate=(()=>this.rerender())}static get is(){return"smart-multicarousel-dots"}connectedCallback(){this.classList.add(A.is),this.rerender(),this._parent.addEventListener("smart-mc-slideschanged",this._onUpdate)}get _parent(){return this.closest(y.is)}rerender(){let t="";const e=Math.floor(this._parent.activeIndexes[2]/3);for(let s=0;s<Math.ceil(this._parent.slides.length/3);++s)t+=this.buildDot(s,s===e);this.innerHTML=t}buildDot(t,e){return`<button role="button" class="carousel-dot ${e?"active-dot":""}" data-slide-target="${t}">\n                <span > </span>\n            </button>`}}customElements.define(A.is,A),[y,A].forEach(t=>{new t})}])});
//# sourceMappingURL=all.js.map